   PowerPlusWaterMarkObject1

                                                                OpenLCB Standard

                                                     Configuration Description Information

                                                    Feb 8, 2015                        Preliminary          

                                         1 Introduction (Informative)

   Minimal introductory material, only the stuff that's absolutely needed to understand the StandardThis
   document defines a standard for the storageformat of static information that describeds the
   configuration options available on an OpenLCB node, called “Configuration Description Information
   (CDI)”.. “Configuration Description Information” in this context refers to fixed information available
   from an OpenLCB device, via OpenLCB, so that other devices can properly and correctly configure it.

   This Standard does not address how the CDI is stored, retrieved, or used.

                                         2 Intended Use (Informative)

   IntendedAny limitations to the area of use of the StandardCDI is intended to be used to by a
   configurable, self-contained OpenLCB node..s to tell a Configuration Tool (CT) how to configure the
   node. The configuration tool will use the CDI information to help the user configure all aspects of the
   node's capabilities.

                               3 References and Context (NormativeInformative)

                                    4 Citations to other docs, as needed.

   For more information on format and presentation, see:

     * OpenLCB Common Information Technical Note

   For information on one way to retrieve CDI from a node, see:

     * OpenLCB Memory Configuration Protocol

   For information on XML encoding and XML Schema, see:

     * World Wide Web Consortium (W3C) “Extensible Markup Language (XML)”^i

     * World Wide Web Consortium (W3C) “XML Schema”^ii

                                         5 FormatContent (normative)

   The configuration description information for a node is invariant while the node has any OpenLCB
   connections in the Initialized state.

   The CDI has three parts:

     * Identification: Provides specific information about the type of the node.

     * ACDI: Indicates that certain configuration information in the node has a standard format.

     * Segments: The configuration information in the node is organized in zero or more segments, each of
       which contains zero or more configurable variables. A variable is the basic unit of configuration.
       The segment definition specifies the organization of each segment. A segment consists of zero or
       more bytes with a linear address space.

                                             6 Format (normative)

   The CDI is provided as a zero-terminated string of bytes. The bytes encode UTF-8 characters. There is no
   byte-order mark (BOM) at the start of the string. Lines in the string are delimited with 0x12 Newline
   (NL) characters.

   The content defines the configuration description information in XML 1.0 format using a specific XML
   vocabulary defined by an XML Schema. This version of this Standard specifies version 1.1 of the schema.
   That version of the schema is defined at http://openlcb.org/schema/1/1/cdi.xsl and in Appendix A of this
   document.

   The version number of an OpenLCB CDI schema contains two numbers: The major version first, and the minor
   version second.

   The first line of the CDI is:

   <?xml version="1.0"?>

   to define the XML version of the content.

   The root element of the CDI XML is:

   <cdi xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:noNamespaceSchemaLocation="http://openlcb.org/schema/1/1/cdi.xsd">

   The schema contents are normative.

6.1 Use of XMLXML Contents

   Sections:

6.2 CDI is constant

6.3 Other stuff

   The CDI information shall be constant. A node may not change it after any part of it has been retrieved
   and before the next transition of the node away from the Initialized state. (The transition back to
   Initialized stte tells other nodes to flush their caches and pick up any changed content)

                               7 Stuff to be merged into the above (or the TN)

   The first byte is used to distinguish the coding.

   “<” (which is part of the XML “<?xml version='1.0'?>” definition): Uncoded characters

   UTF BOM: Various UniCode forms

   0x01 – tag for compressed. One format defined for total start string of 0x0101. (If you want to use
   another format, decompress on board)

   (can't use 0x00 as lead, since that's the end-of-string indication)

   The schema at prototypes/xml/schema (better location?) is really the normative thing, because that's
   what we check.

   But we add the <acdi> element to it, so the document isn't really complete; “Other protocols may add,
   but not remove, elements and attributes”? Remove constraints? How does extensibility work here?

   Numbers for segments, offsets, etc must be specified as decimal numbers. Hexadecimal notation (0x1234)
   is not permitted. Although it may have made the CDI easier for people to read, the XML is primarily
   intended for consumption by OpenLCB nodes. Providing optional coding, such as hexadecimal numbers, makes
   those nodes more complex.

   The 'mask' attribute is for use with legacy equipment only. New OpenLCB implementations should not use
   it. Instead, they should lay out their configuration variables are processed as if they each had their
   own addressable location. (How they are actually stored in memory is not specified.)

   Nodes that use the 'mask' attribute in their CDI must properly implement the write-under-mask operation
   in their memory configuration protocol support.

   Because the using node may not have external connections, XML features requiring those (Xinclude, schema
   default values, …) shall not be assumed to be present.

   Table of Contents

   1 Introduction (Informative) 1

   2 Intended Use (Informative) 1

   3 References and Context (Normative) 1

   4 Stuff to be merged into the above (or the TN) 1

   ihttp://www.w3.org/XML/

   iihttp://www.w3.org/XML/Schema

   Copyright 2012-2015. All rights reserved. See http://openlcb.org/Licensing.html for license terms.  Page
   1 of 3 - Feb 8, 2015
